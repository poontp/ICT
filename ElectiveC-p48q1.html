<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°‹æ‰¾æœ€å°å…¬å€æ•¸ (LCM) äº’å‹•æŒ‡å—</title>
    <style>
        :root {
            --primary-color: #005a9c;
            --secondary-color: #f0f8ff;
            --accent-color: #ffc107;
            --text-color: #333;
            --border-color: #ddd;
            --success-color: #28a745;
            --error-color: #dc3545;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f4f7f9;
            margin: 0;
            padding: 15px;
        }
        main {
            max-width: 800px;
            margin: 20px auto;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        header {
            background-color: var(--primary-color);
            color: #fff;
            padding: 20px;
            text-align: center;
            border-bottom: 5px solid var(--accent-color);
        }
        h1, h2 {
            margin-top: 0;
            color: var(--primary-color);
        }
        h1 {
            color: #fff;
            font-size: 2em;
            margin-bottom: 0;
        }
        section {
            padding: 25px;
            border-bottom: 1px solid var(--border-color);
        }
        section:last-child {
            border-bottom: none;
        }
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .input-group input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 1em;
        }
        button, .button {
            background-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
            margin-right: 10px;
            margin-bottom: 10px;
            display: inline-block;
            text-align: center;
            vertical-align: middle;
        }
        button:hover, .button:hover {
            background-color: #004170;
        }
        button:disabled {
            background-color: #a0a0a0;
            cursor: not-allowed;
        }
        #calculation-steps {
            margin-top: 20px;
            background-color: var(--secondary-color);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            padding: 15px;
            min-height: 100px;
            max-height: 350px;
            overflow-y: auto;
            font-family: "Courier New", Courier, monospace;
            font-size: 0.95em;
            line-height: 1.7;
        }
        .step.fail { color: #721c24; }
        .step.success { color: #155724; font-weight: bold; }
        .step-details {
            list-style-type: none;
            padding: 10px;
            margin: 5px 0 10px 0;
            background-color: #e9f7ec;
            border: 1px solid #c3e6cb;
            border-radius: 4px;
        }
        #final-result {
            margin-top: 15px;
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
            padding: 15px;
            border-radius: 5px;
            background-color: var(--secondary-color);
            color: var(--primary-color);
        }
        #final-result.success { background-color: var(--success-color); color: white; }
        #final-result.error { background-color: var(--error-color); color: white; }

        .button.secondary { background-color: #6c757d; }
        .button.secondary:hover { background-color: #5a6268; }
        .button.autoplay { background-color: #17a2b8; }
        .button.autoplay:hover { background-color: #138496; }

        #interactive-code-container {
            background-color: #f3f4f6;
            color: #1f2937;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            font-family: "Courier New", Courier, monospace;
            font-size: 1em;
        }
        .code-line { white-space: pre; line-height: 2.2; }
        .code-select {
            font-family: "Courier New", Courier, monospace;
            background-color: #ffffff;
            color: #1f2937;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            padding: 5px 8px;
            font-size: 0.95em;
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
            vertical-align: middle;
        }
        .code-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 5px rgba(0, 90, 156, 0.3);
        }
        .code-select.correct { border: 2px solid var(--success-color); }
        .code-select.incorrect { border: 2px solid var(--error-color); }
        .explanation-box {
            display: none; padding: 10px; margin-top: 8px; margin-left: 20px; border-radius: 5px;
            font-family: sans-serif; font-size: 0.9em; line-height: 1.5;
        }
        .explanation-correct { background-color: #e9f7ec; color: #155724; border-left: 4px solid var(--success-color); }
        .explanation-incorrect { background-color: #f8d7da; color: #721c24; border-left: 4px solid var(--error-color); }
        .example-block {
            background-color: var(--secondary-color); border-left: 5px solid var(--accent-color);
            padding: 15px; margin-top: 15px; border-radius: 5px;
        }
        .example-block ul { padding-left: 20px; }
        .example-block strong { color: var(--primary-color); }
    </style>
</head>
<body>

    <main>
        <header>
            <h1>å°‹æ‰¾æœ€å°å…¬å€æ•¸ (LCM) äº’å‹•æŒ‡å—</h1>
        </header>

        <section>
            <h2>1. ä»€éº¼æ˜¯æœ€å°å…¬å€æ•¸ (LCM)ï¼Ÿ</h2>
            <p>æœ€å°å…¬å€æ•¸ï¼ˆLeast Common Multiple, LCMï¼‰æŒ‡çš„æ˜¯èƒ½å¤ <strong>åŒæ™‚</strong>è¢«å…©å€‹æˆ–å¤šå€‹æ•´æ•¸æ•´é™¤çš„<strong>æœ€å°æ­£æ•´æ•¸</strong>ã€‚æ›å¥è©±èªªï¼Œå®ƒæ˜¯åœ¨å…©çµ„æ•¸çš„ã€Œå€æ•¸ã€æ¸…å–®ä¸­ï¼Œç¬¬ä¸€å€‹å‡ºç¾çš„ç›¸åŒæ•¸å­—ã€‚</p>

            <div class="example-block">
                <h4>ç¯„ä¾‹ 1ï¼šåŸºæœ¬æ¦‚å¿µ</h4>
                <p>è®“æˆ‘å€‘çœ‹çœ‹æ•¸å­— <strong>4</strong> å’Œ <strong>6</strong>ï¼š</p>
                <ul>
                    <li>4 çš„å€æ•¸æœ‰ï¼š4, 8, <strong style="color:red;">12</strong>, 16, 20, <strong style="color:red;">24</strong>, ...</li>
                    <li>6 çš„å€æ•¸æœ‰ï¼š6, <strong style="color:red;">12</strong>, 18, <strong style="color:red;">24</strong>, 30, ...</li>
                </ul>
                <p>å®ƒå€‘å…±åŒçš„å€æ•¸ï¼ˆå…¬å€æ•¸ï¼‰æœ‰ 12, 24 ç­‰ç­‰ã€‚å…¶ä¸­æœ€å°çš„ä¸€å€‹å°±æ˜¯ <strong>12</strong>ï¼Œæ‰€ä»¥ 4 å’Œ 6 çš„ LCM å°±æ˜¯ 12ã€‚</p>
            </div>

            <div class="example-block">
                <h4>ç¯„ä¾‹ 2ï¼šç”Ÿæ´»æ‡‰ç”¨ï¼ˆå…¬è»Šæ’ç­ï¼‰</h4>
                <p>æƒ³åƒä¸€ä¸‹ï¼Œæœ‰å…©ç­å…¬è»Šå¾åŒä¸€å€‹è»Šç«™å‡ºç™¼ï¼š</p>
                <ul>
                    <li><strong>A è·¯ç·š</strong>ï¼šæ¯ <strong>8</strong> åˆ†é˜ä¸€ç­è»Šã€‚</li>
                    <li><strong>B è·¯ç·š</strong>ï¼šæ¯ <strong>10</strong> åˆ†é˜ä¸€ç­è»Šã€‚</li>
                </ul>
                <p>å¦‚æœå…©ç­è»Šåœ¨æ—©ä¸Š 8:00 æ•´åŒæ™‚ç™¼è»Šï¼Œä¸‹ä¸€æ¬¡å®ƒå€‘æœƒåœ¨ä»€éº¼æ™‚å€™å†æ¬¡åŒæ™‚ç™¼è»Šå‘¢ï¼Ÿé€™å°±éœ€è¦è¨ˆç®— 8 å’Œ 10 çš„ LCMã€‚</p>
                <ul>
                    <li>8 çš„å€æ•¸ï¼š8, 16, 24, 32, <strong style="color:red;">40</strong>, 48, ...</li>
                    <li>10 çš„å€æ•¸ï¼š10, 20, 30, <strong style="color:red;">40</strong>, 50, ...</li>
                </ul>
                <p>å®ƒå€‘çš„ LCM æ˜¯ <strong>40</strong>ã€‚æ‰€ä»¥ï¼Œå…©ç­å…¬è»Šå°‡åœ¨ 40 åˆ†é˜å¾Œï¼Œä¹Ÿå°±æ˜¯æ—©ä¸Š 8:40 å†æ¬¡åŒæ™‚ç™¼è»Šã€‚</p>
            </div>
        </section>

        <section>
            <h2>2. æ‰¾å‡º LCM çš„ç®—æ³•</h2>
            <p>é›»è…¦è§£æ±ºé€™å€‹å•é¡Œçš„æ–¹æ³•å¾ˆç›´æ¥ï¼šå¾å…©æ•¸ä¸­è¼ƒå¤§è€…é–‹å§‹ï¼Œé€ä¸€å‘ä¸Šæª¢æŸ¥æ¯å€‹æ•¸å­—ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€å€‹èƒ½åŒæ™‚è¢«å…©æ•¸æ•´é™¤çš„æ•¸ç‚ºæ­¢ã€‚</p>
        </section>

        <section>
            <h2>3. LCM åˆ†æ­¥äº’å‹•è¨ˆç®—æ©Ÿ</h2>
            <p>è¼¸å…¥æ•¸å­—å¾Œï¼Œæ‚¨å¯ä»¥é»æ“Šã€Œä¸‹ä¸€æ­¥ã€æ‰‹å‹•æ“ä½œï¼Œæˆ–é»æ“Šã€Œè‡ªå‹•æ’­æ”¾ã€è§€çœ‹æ•´å€‹æ¼”ç®—éç¨‹ã€‚</p>
            <div class="input-group">
                <label for="num1">ç¬¬ä¸€å€‹æ•¸å­—</label>
                <input type="number" id="num1" value="4" min="1">
            </div>
            <div class="input-group">
                <label for="num2">ç¬¬äºŒå€‹æ•¸å­—</label>
                <input type="number" id="num2" value="6" min="1">
            </div>
            <div id="calculator-controls">
                <button id="start-btn" onclick="startCalculation()">é–‹å§‹è¨ˆç®—</button>
                <button id="next-step-btn" onclick="nextStep()" style="display:none;">ä¸‹ä¸€æ­¥ &rarr;</button>
                <button id="autoplay-btn" onclick="toggleAutoplay()" style="display:none;" class="button autoplay">è‡ªå‹•æ’­æ”¾ â¯ï¸</button>
                <button id="reset-btn" onclick="resetCalculator()" style="display:none;" class="button secondary">é‡ç½®</button>
            </div>
            <div id="final-result"></div>
            <div id="calculation-steps" style="display:none;"></div>
        </section>

        <section>
            <h2>4. äº’å‹•å¼ç¨‹å¼ç¢¼ç·´ç¿’</h2>
            <p>è«‹å¾ä¸‹æ‹‰é¸å–®ä¸­é¸æ“‡æ­£ç¢ºçš„ç¨‹å¼ç¢¼ã€‚ç³»çµ±æœƒç«‹å³æ ¸å°æ‚¨çš„ç­”æ¡ˆä¸¦æä¾›è§£èªªã€‚</p>
            <div id="interactive-code-container">
                <div class="code-line">num1 = int(input("..."))</div>
                <div class="code-line">num2 = int(input("..."))</div>
                <div class="code-line">if <select id="blank1" class="code-select" onchange="checkAndExplain(this)">
                        <option value="" disabled selected>-- é¸æ“‡æ¢ä»¶ --</option>
                        <option value="num1 > num2">num1 > num2</option>
                        <option value="num1 == num2">num1 == num2</option>
                        <option value="lcm == num1">lcm == num1</option>
                    </select>:</div>
                <div class="explanation-box" id="explanation-blank1"></div>
                <div class="code-line">    lcm = num1</div>
                <div class="code-line">else:</div>
                <div class="code-line">    lcm = num2</div>
                <div class="code-line">found = False</div>
                <div class="code-line">while <select id="blank2" class="code-select" onchange="checkAndExplain(this)">
                        <option value="" disabled selected>-- é¸æ“‡æ¢ä»¶ --</option>
                        <option value="found == True">found == True</option>
                        <option value="not found">not found</option>
                        <option value="found != False">found != False</option>
                    </select>:</div>
                <div class="explanation-box" id="explanation-blank2"></div>
                <div class="code-line">    if <select id="blank3" class="code-select" onchange="checkAndExplain(this)">
                        <option value="" disabled selected>-- é¸æ“‡æ¢ä»¶ --</option>
                        <option value="lcm % num1 == 0 or lcm % num2 == 0">lcm % num1 == 0 or lcm % num2 == 0</option>
                        <option value="lcm / num1 == 0 and lcm / num2 == 0">lcm / num1 == 0 and lcm / num2 == 0</option>
                        <option value="lcm % num1 == 0 and lcm % num2 == 0">lcm % num1 == 0 and lcm % num2 == 0</option>
                    </select>:</div>
                <div class="explanation-box" id="explanation-blank3"></div>
                <div class="code-line">        found = True</div>
                <div class="code-line">    else:</div>
                <div class="code-line">        <select id="blank4" class="code-select" onchange="checkAndExplain(this)">
                        <option value="" disabled selected>-- é¸æ“‡å‹•ä½œ --</option>
                        <option value="lcm += 1">lcm += 1</option>
                        <option value="lcm -= 1">lcm -= 1</option>
                        <option value="break">break</option>
                    </select></div>
                <div class="explanation-box" id="explanation-blank4"></div>
                <div class="code-line">print("The LCM is", lcm)</div>
            </div>
            <div class="action-buttons" style="margin-top: 20px;">
                <button onclick="resetQuiz()" class="button secondary">é‡ç½®ç·´ç¿’</button>
            </div>
        </section>
    </main>

    <script>
        // --- State for Section 3: Interactive Calculator ---
        let calcState = {
            num1: 0, num2: 0, currentLcm: 0,
            found: false, isCalculating: false, iterationCount: 0,
            autoplayTimer: null
        };

        function startCalculation() {
            const num1 = parseInt(document.getElementById('num1').value);
            const num2 = parseInt(document.getElementById('num2').value);
            const resultContainer = document.getElementById('final-result');
            const stepsContainer = document.getElementById('calculation-steps');

            if (isNaN(num1) || isNaN(num2) || num1 <= 0 || num2 <= 0) {
                resultContainer.textContent = 'è«‹è¼¸å…¥å…©å€‹å¤§æ–¼ 0 çš„æ­£æ•´æ•¸ã€‚';
                resultContainer.className = 'error';
                return;
            }

            resetCalculator(); // Ensure clean state before starting

            calcState = {
                ...calcState,
                num1, num2,
                currentLcm: Math.max(num1, num2),
                isCalculating: true
            };

            stepsContainer.style.display = 'block';
            stepsContainer.innerHTML = `<div>æº–å‚™è¨ˆç®— ${num1} å’Œ ${num2} çš„ LCM...</div><div>å¾å…©æ•¸ä¸­è¼ƒå¤§çš„ <strong>${calcState.currentLcm}</strong> é–‹å§‹ã€‚</div><hr>`;
            resultContainer.textContent = 'è¨ˆç®—é€²è¡Œä¸­...';
            
            document.getElementById('start-btn').style.display = 'none';
            document.getElementById('next-step-btn').style.display = 'inline-block';
            document.getElementById('autoplay-btn').style.display = 'inline-block';
            document.getElementById('reset-btn').style.display = 'inline-block';
            document.getElementById('num1').disabled = true;
            document.getElementById('num2').disabled = true;
        }

        function nextStep() {
            if (calcState.found || !calcState.isCalculating) return;

            const { num1, num2 } = calcState;
            let { currentLcm } = calcState;
            const stepsContainer = document.getElementById('calculation-steps');
            const resultContainer = document.getElementById('final-result');
            let stepsHtml = '';

            if (calcState.iterationCount > 1000) {
                stepsHtml = `<div class="step fail">è¨ˆç®—å·²é”ä¸Šé™ï¼Œè«‹å˜—è©¦è¼ƒå°çš„æ•¸å­—ã€‚</div>`;
                resultContainer.textContent = 'è¨ˆç®—é‡éå¤§ï¼Œè«‹é‡ç½®ã€‚';
                resultContainer.className = 'error';
                stopAutoplay();
                document.getElementById('next-step-btn').disabled = true;
                calcState.isCalculating = false;
                stepsContainer.innerHTML += stepsHtml;
                return;
            }

            if (currentLcm % num1 === 0 && currentLcm % num2 === 0) {
                calcState.found = true;
                calcState.isCalculating = false;
                stepsHtml = `<div class="step success">ğŸ‰ æ‰¾åˆ°äº†ï¼ <strong>${currentLcm}</strong> æ˜¯æˆ‘å€‘è¦æ‰¾çš„æ•¸å­—ï¼</div>`;
                stepsHtml += `<ul class="step-details">
                                <li>${currentLcm} Ã· ${num1} = ${currentLcm / num1} (å¯æ•´é™¤ âœ…)</li>
                                <li>${currentLcm} Ã· ${num2} = ${currentLcm / num2} (å¯æ•´é™¤ âœ…)</li>
                              </ul>`;
                resultContainer.textContent = `${num1} å’Œ ${num2} çš„æœ€å°å…¬å€æ•¸æ˜¯ ${currentLcm}`;
                resultContainer.className = 'success';
                stopAutoplay();
                document.getElementById('next-step-btn').style.display = 'none';
                document.getElementById('autoplay-btn').style.display = 'none';
            } else {
                const requirementText = `ç›®æ¨™æ˜¯åŒæ™‚è¢« <strong>${num1} å’Œ ${num2}</strong> æ•´é™¤ã€‚`;
                const check1 = currentLcm % num1 === 0;
                const check2 = currentLcm % num2 === 0;
                let reason = '';

                if (!check1 && !check2) {
                    reason = `ä½†é€™å€‹æ•¸æ—¢ä¸èƒ½è¢« ${num1} (é¤˜æ•¸ ${currentLcm % num1})ï¼Œä¹Ÿä¸èƒ½è¢« ${num2} (é¤˜æ•¸ ${currentLcm % num2}) æ•´é™¤ã€‚`;
                } else if (!check1) {
                    reason = `é›–ç„¶å®ƒèƒ½è¢« ${num2} æ•´é™¤ï¼Œä½†ä¸èƒ½è¢« ${num1} æ•´é™¤ (é¤˜æ•¸ ${currentLcm % num1})ã€‚`;
                } else {
                    reason = `é›–ç„¶å®ƒèƒ½è¢« ${num1} æ•´é™¤ï¼Œä½†ä¸èƒ½è¢« ${num2} æ•´é™¤ (é¤˜æ•¸ ${currentLcm % num2})ã€‚`;
                }
                
                stepsHtml = `<div class="step fail">âŒ æ­£åœ¨å˜—è©¦: <strong>${currentLcm}</strong>. ä¸ç¬¦åˆã€‚<br><div style="padding-left: 20px;">${requirementText}<br>${reason}</div></div>`;
                calcState.currentLcm++;
                calcState.iterationCount++;
            }
            
            stepsContainer.innerHTML += stepsHtml;
            stepsContainer.scrollTop = stepsContainer.scrollHeight;
        }

        function toggleAutoplay() {
            if (calcState.autoplayTimer) {
                stopAutoplay();
            } else {
                startAutoplay();
            }
        }

        function startAutoplay() {
            const autoplayBtn = document.getElementById('autoplay-btn');
            autoplayBtn.textContent = 'æš«åœ â¸ï¸';
            document.getElementById('next-step-btn').disabled = true;

            nextStep(); 
            if (calcState.isCalculating) {
                calcState.autoplayTimer = setInterval(nextStep, 1200);
            }
        }

        function stopAutoplay() {
            if (calcState.autoplayTimer) {
                clearInterval(calcState.autoplayTimer);
                calcState.autoplayTimer = null;
                const autoplayBtn = document.getElementById('autoplay-btn');
                if(autoplayBtn) autoplayBtn.textContent = 'è‡ªå‹•æ’­æ”¾ â¯ï¸';
                
                const nextBtn = document.getElementById('next-step-btn');
                if(nextBtn) nextBtn.disabled = false;
            }
        }

        function resetCalculator() {
            stopAutoplay();
            calcState = {
                num1: 0, num2: 0, currentLcm: 0,
                found: false, isCalculating: false, iterationCount: 0,
                autoplayTimer: null
            };
            
            document.getElementById('calculation-steps').style.display = 'none';
            document.getElementById('calculation-steps').innerHTML = '';
            
            const resultContainer = document.getElementById('final-result');
            resultContainer.textContent = 'è¼¸å…¥æ•¸å­—å¾Œï¼Œé»æ“Šã€Œé–‹å§‹è¨ˆç®—ã€ã€‚';
            resultContainer.className = '';

            document.getElementById('start-btn').style.display = 'inline-block';
            document.getElementById('next-step-btn').style.display = 'none';
            document.getElementById('autoplay-btn').style.display = 'none';
            document.getElementById('reset-btn').style.display = 'none';
            document.getElementById('next-step-btn').disabled = false;

            document.getElementById('num1').disabled = false;
            document.getElementById('num2').disabled = false;
        }
        
        // --- Script for Section 4: Interactive Code Challenge ---
        const explanations = {
            blank1: { correct: "âœ… **æ­£ç¢ºï¼** æˆ‘å€‘éœ€è¦å¾å…©å€‹æ•¸å­—ä¸­è¼ƒå¤§çš„é‚£ä¸€å€‹é–‹å§‹å°‹æ‰¾ï¼Œå› ç‚º LCM ä¸å¯èƒ½æ¯”å®ƒå€‘å°ã€‚", incorrect: { "num1 == num2": "âŒ **ä¸å®Œæ•´ã€‚** é€™åªè™•ç†äº†å…©æ•¸ç›¸ç­‰çš„æƒ…æ³ã€‚", "lcm == num1": "âŒ **é‚è¼¯éŒ¯èª¤ã€‚** åœ¨é€™å€‹ä½ç½®ï¼Œ`lcm` é€™å€‹è®Šæ•¸é‚„æ²’æœ‰è¢«è³¦å€¼ã€‚" } },
            blank2: { correct: "âœ… **æ­£ç¢ºï¼** `while not found` çš„æ„æ€æ˜¯ã€Œç•¶ found æ˜¯ False æ™‚ï¼Œå°±ç¹¼çºŒå¾ªç’°ã€ï¼Œç¢ºä¿æˆ‘å€‘åœ¨æ‰¾åˆ°ç­”æ¡ˆå‰æœƒä¸€ç›´æª¢æŸ¥ã€‚", incorrect: { "found == True": "âŒ **é‚è¼¯ç›¸åã€‚** é€™æœƒå°è‡´å¾ªç’°å¾ä¸€é–‹å§‹å°±ä¸æœƒåŸ·è¡Œã€‚", "found != False": "âŒ **é‚è¼¯ç›¸åã€‚** é€™å’Œ `found == True` çš„æ•ˆæœä¸€æ¨£ã€‚" } },
            blank3: { correct: "âœ… **æ­£ç¢ºï¼** æˆ‘å€‘éœ€è¦æ‰¾åˆ°ä¸€å€‹èƒ½ã€ŒåŒæ™‚ã€è¢« `num1` å’Œ `num2` æ•´é™¤çš„æ•¸ã€‚`and` é—œéµå­—ç¢ºä¿å…©å€‹æ¢ä»¶éƒ½å¿…é ˆæˆç«‹ã€‚", incorrect: { "lcm % num1 == 0 or lcm % num2 == 0": "âŒ **é‚è¼¯éŒ¯èª¤ã€‚** `or` è¡¨ç¤ºåªè¦æ»¿è¶³å…¶ä¸­ä¸€å€‹æ¢ä»¶å³å¯ï¼Œé€™æœƒæ‰¾åˆ°ç¬¬ä¸€å€‹å€æ•¸ï¼Œè€Œä¸æ˜¯ã€Œå…¬ã€å€æ•¸ã€‚", "lcm / num1 == 0 and lcm / num2 == 0": "âŒ **é‹ç®—å­éŒ¯èª¤ã€‚** `/` æ˜¯é™¤æ³•ï¼Œä¸æ˜¯å–é¤˜æ•¸ã€‚" } },
            blank4: { correct: "âœ… **æ­£ç¢ºï¼** å¦‚æœç•¶å‰çš„ `lcm` ä¸æ˜¯ç­”æ¡ˆï¼Œæˆ‘å€‘å°±éœ€è¦æª¢æŸ¥ä¸‹ä¸€å€‹æ•¸å­—ã€‚`lcm += 1` å°±æ˜¯å°‡ `lcm` çš„å€¼åŠ  1ã€‚", incorrect: { "lcm -= 1": "âŒ **æ–¹å‘éŒ¯èª¤ã€‚** é€™æœƒè®“æ•¸å­—è¶Šä¾†è¶Šå°ï¼Œæ°¸é æ‰¾ä¸åˆ°ç­”æ¡ˆã€‚", "break": "âŒ **é‚è¼¯éŒ¯èª¤ã€‚** `break` æœƒç›´æ¥è·³å‡ºå¾ªç’°ï¼Œå°è‡´ç¨‹å¼æå‰çµæŸã€‚" } }
        };
        const correctAnswers = { blank1: "num1 > num2", blank2: "not found", blank3: "lcm % num1 == 0 and lcm % num2 == 0", blank4: "lcm += 1" };

        function checkAndExplain(selectElement) {
            const selectId = selectElement.id;
            const userAnswer = selectElement.value;
            const explanationBox = document.getElementById('explanation-' + selectId);
            explanationBox.style.display = 'block';
            if (userAnswer === correctAnswers[selectId]) {
                selectElement.className = 'code-select correct';
                explanationBox.className = 'explanation-box explanation-correct';
                explanationBox.innerHTML = explanations[selectId].correct;
            } else {
                selectElement.className = 'code-select incorrect';
                explanationBox.className = 'explanation-box explanation-incorrect';
                explanationBox.innerHTML = explanations[selectId].incorrect[userAnswer] || "âŒ **è«‹å†æƒ³æƒ³çœ‹ï¼**";
            }
        }
        function resetQuiz() {
            document.querySelectorAll('.code-select').forEach(s => { s.selectedIndex = 0; s.className = 'code-select'; });
            document.querySelectorAll('.explanation-box').forEach(b => { b.style.display = 'none'; b.innerHTML = ''; });
        }
        
        window.onload = () => {
             resetCalculator();
             resetQuiz();
        };
    </script>
</body>
</html>